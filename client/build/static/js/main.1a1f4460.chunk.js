(this.webpackJsonpclient=this.webpackJsonpclient||[]).push([[0],{37:function(e,t,n){},39:function(e,t,n){},66:function(e,t,n){"use strict";n.r(t);var c=n(4),r=n.n(c),s=n(31),a=n.n(s),o=(n(37),n(5)),i=n.n(o),u=n(9),l=n(11),j=(n(39),n(12)),b=n(2),p=n(0);function x(){var e=Object(c.useState)(null),t=Object(l.a)(e,2),n=t[0],r=t[1];function s(){return(s=Object(u.a)(i.a.mark((function e(){var t,n;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("/api/user/session");case 2:return t=e.sent,e.next=5,t.json();case 5:n=e.sent,console.log(n),r(n);case 8:case"end":return e.stop()}}),e)})))).apply(this,arguments)}return Object(p.jsxs)("div",{children:[Object(p.jsx)("p",{children:n||"No User Loaded"}),Object(p.jsx)("button",{onClick:function(){return s.apply(this,arguments)},children:"Fetch Data"})]})}var d=n(14),h=n.n(d);function f(){var e=Object(c.useState)(null),t=Object(l.a)(e,2),n=t[0],r=t[1];return Object(c.useEffect)((function(){function e(){return(e=Object(u.a)(i.a.mark((function e(){var t;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,h.a.get("/api/user/me");case 2:(t=e.sent)?r(t.data):console.log("error");case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}!function(){e.apply(this,arguments)}()}),[]),n?Object(p.jsxs)("div",{children:[Object(p.jsx)("h2",{children:"UserData: "}),Object(p.jsx)("h2",{children:n.username}),Object(p.jsx)("h3",{children:n._id})]}):Object(p.jsx)("div",{children:Object(p.jsx)("h2",{children:"No Data"})})}var O=n(15),g=n(16);function m(e){var t=e.loginFunction,n=Object(c.useState)({username:"",password:""}),r=Object(l.a)(n,2),s=r[0],a=r[1];function o(e,t){a(Object(g.a)(Object(g.a)({},s),{},Object(O.a)({},e,t)))}function j(){return(j=Object(u.a)(i.a.mark((function e(n){return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n.preventDefault(),e.next=3,h.a.post("/api/user/login",{username:s.username,password:s.password}).catch((function(e){console.log(e)}));case 3:e.sent?(console.log("Login Successful"),t(!0)):console.log("Login Failed");case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}return Object(p.jsx)("div",{children:Object(p.jsxs)("form",{onSubmit:function(e){return function(e){return j.apply(this,arguments)}(e)},children:[Object(p.jsx)("input",{type:"text",placeholder:"Username",value:s.username,onChange:function(e){return o("username",e.target.value)}}),Object(p.jsx)("input",{type:"text",placeholder:"Password",value:s.password,onChange:function(e){return o("password",e.target.value)}}),Object(p.jsx)("button",{type:"submit",children:"Login"})]})})}function v(e){var t=e.loginFunction,n=Object(c.useState)({username:"",password:"",email:""}),r=Object(l.a)(n,2),s=r[0],a=r[1];function o(e,t){a(Object(g.a)(Object(g.a)({},s),{},Object(O.a)({},e,t)))}function j(){return(j=Object(u.a)(i.a.mark((function e(n){return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n.preventDefault(),e.next=3,h.a.post("/api/user",{username:s.username,password:s.password,email:s.email}).catch((function(e){console.log(e)}));case 3:e.sent?(console.log("Sign-Up Successful"),t(!0)):console.log("Sign-Up Failed");case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}return Object(p.jsx)("div",{children:Object(p.jsxs)("form",{onSubmit:function(e){return function(e){return j.apply(this,arguments)}(e)},children:[Object(p.jsx)("input",{type:"text",placeholder:"Username",value:s.username,onChange:function(e){return o("username",e.target.value)}}),Object(p.jsx)("input",{type:"text",placeholder:"Password",value:s.password,onChange:function(e){return o("password",e.target.value)}}),Object(p.jsx)("input",{type:"text",placeholder:"Email",value:s.email,onChange:function(e){return o("email",e.target.value)}}),Object(p.jsx)("button",{type:"submit",children:"Sign Up"})]})})}function w(e){var t=e.loginFunction;return Object(p.jsxs)("div",{children:[Object(p.jsx)(m,{loginFunction:t}),Object(p.jsx)(v,{loginFunction:t})]})}function y(e){var t=e.logoutFunction;return Object(c.useEffect)((function(){function e(){return(e=Object(u.a)(i.a.mark((function e(){return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t(!1),e.next=3,fetch("/api/user/logout");case 3:e.sent;case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}!function(){e.apply(this,arguments)}()})),Object(p.jsx)(b.a,{to:"/"})}var k=function(){var e=r.a.useState(!1),t=Object(l.a)(e,2),n=t[0],c=t[1];return r.a.useEffect((function(){function e(){return(e=Object(u.a)(i.a.mark((function e(){var t,n;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("/api/user/loggedIn");case 2:return t=e.sent,e.next=5,t.json();case 5:n=e.sent,c(n.loggedIn);case 7:case"end":return e.stop()}}),e)})))).apply(this,arguments)}!function(){e.apply(this,arguments)}()}),[]),Object(p.jsx)(j.a,{children:Object(p.jsxs)("div",{children:[Object(p.jsxs)("nav",{className:"flex items-center justify-between flex-wrap bg-blue-500 p-6",children:[Object(p.jsx)("div",{className:"flex items-center flex-shrink-0 text-white mr-6",children:Object(p.jsx)("span",{className:"font-semibold text-xl tracking-tight",children:"FullStackApp"})}),Object(p.jsxs)("div",{className:"w-full block lg:flex lg:items-center lg:w-auto lg:space-x-10",children:[Object(p.jsx)("div",{className:"text-md lg:flex-grow",children:Object(p.jsx)(j.b,{to:"/",className:"block mt-4 lg:inline-block lg:mt-0 text-red-200 hover:text-white mr-4",children:"Home"})}),Object(p.jsx)("div",{className:"text-md lg:flex-grow",children:Object(p.jsx)(j.b,{to:"/user",className:"block mt-4 lg:inline-block lg:mt-0 text-red-200 hover:text-white mr-4",children:"User"})}),Object(p.jsx)("div",{className:"text-md lg:flex-grow",children:Object(p.jsx)(j.b,{to:n?"/logout":"/login",className:"block mt-4 lg:inline-block lg:mt-0 text-red-200 hover:text-white mr-4",children:n?"Logout":"Login"})})]})]}),Object(p.jsxs)(b.d,{children:[Object(p.jsx)(b.b,{exact:!0,path:"/",children:Object(p.jsx)(x,{loginFunction:c})}),Object(p.jsx)(b.b,{path:"/user",children:n?Object(p.jsx)(f,{}):Object(p.jsx)(b.a,{to:"/"})}),Object(p.jsx)(b.b,{path:"/login",children:n?Object(p.jsx)(b.a,{to:"/"}):Object(p.jsx)(w,{loginFunction:c})}),Object(p.jsx)(b.b,{path:"/logout",children:n?Object(p.jsx)(y,{logoutFunction:c}):Object(p.jsx)(b.a,{to:"/"})})]})]})})},F=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,67)).then((function(t){var n=t.getCLS,c=t.getFID,r=t.getFCP,s=t.getLCP,a=t.getTTFB;n(e),c(e),r(e),s(e),a(e)}))};a.a.render(Object(p.jsx)(r.a.StrictMode,{children:Object(p.jsx)(k,{})}),document.getElementById("root")),F()}},[[66,1,2]]]);
//# sourceMappingURL=main.1a1f4460.chunk.js.map