(this.webpackJsonpclient=this.webpackJsonpclient||[]).push([[0],{37:function(e,t,n){},39:function(e,t,n){},66:function(e,t,n){"use strict";n.r(t);var c=n(4),s=n.n(c),a=n(31),r=n.n(a),o=(n(37),n(5)),i=n.n(o),l=n(9),u=n(11),j=(n(39),n(16)),d=n(2),p=n(0);function b(){var e=Object(c.useState)(null),t=Object(u.a)(e,2),n=t[0],s=t[1];function a(){return(a=Object(l.a)(i.a.mark((function e(){var t,n;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("/api/user/session");case 2:return t=e.sent,e.next=5,t.json();case 5:n=e.sent,console.log(n),s(n);case 8:case"end":return e.stop()}}),e)})))).apply(this,arguments)}return Object(p.jsxs)("div",{children:[Object(p.jsx)("p",{children:n||"No User Loaded"}),Object(p.jsx)("button",{onClick:function(){return a.apply(this,arguments)},children:"Fetch Data"})]})}var h=n(13),x=n.n(h);function f(){var e=Object(c.useState)(null),t=Object(u.a)(e,2),n=t[0],s=t[1];return Object(c.useEffect)((function(){function e(){return(e=Object(l.a)(i.a.mark((function e(){var t;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,x.a.get("/api/user/me");case 2:(t=e.sent)?s(t.data):console.log("error");case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}!function(){e.apply(this,arguments)}()}),[]),n?Object(p.jsxs)("div",{children:[Object(p.jsx)("h2",{children:"UserData: "}),Object(p.jsx)("h2",{children:n.username}),Object(p.jsx)("h3",{children:n._id})]}):Object(p.jsx)("div",{children:Object(p.jsx)("h2",{children:"Loading..."})})}var g=n(14),m=n(15);function O(e){var t=e.type,n=e.placeholder,c=e.value,s=e.onChange;return Object(p.jsx)("input",{type:t,placeholder:n,value:c,onChange:s,className:"shadow appearance-none border rounded w-full py-2 px-3 text-gray-700 leading-tight focus:outline-none focus:shadow-outline"})}function v(e){var t=e.type,n=e.text;return Object(p.jsx)("button",{className:"bg-blue-500 hover:bg-blue-700 text-white font-bold py-2 px-4 rounded focus:outline-none focus:shadow-outline",type:t,children:n})}function w(e){var t=e.loginFunction,n=Object(c.useState)({username:"",password:""}),s=Object(u.a)(n,2),a=s[0],r=s[1];function o(e,t){r(Object(m.a)(Object(m.a)({},a),{},Object(g.a)({},e,t)))}function j(){return(j=Object(l.a)(i.a.mark((function e(n){return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n.preventDefault(),e.next=3,x.a.post("/api/user/login",{username:a.username,password:a.password}).catch((function(e){console.log(e)}));case 3:e.sent?(console.log("Login Successful"),t(!0)):console.log("Login Failed");case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}return Object(p.jsx)("div",{className:"h-full",children:Object(p.jsx)("form",{className:"bg-white h-full center text-center space-y-2 shadow-md rounded px-10 pt-6 pb-4 mb-2",onSubmit:function(e){return function(e){return j.apply(this,arguments)}(e)},children:Object(p.jsxs)("div",{className:"my-5 space-y-2",children:[Object(p.jsx)(O,{type:"text",placeholder:"Username",value:a.username,onChange:function(e){return o("username",e.target.value)}}),Object(p.jsx)(O,{type:"password",placeholder:"Password",value:a.password,onChange:function(e){return o("password",e.target.value)}}),Object(p.jsx)("div",{className:"pt-10",children:Object(p.jsx)(v,{type:"submit",text:"Login"})})]})})})}function y(e){var t=e.loginFunction,n=Object(c.useState)({username:"",password:"",email:""}),s=Object(u.a)(n,2),a=s[0],r=s[1];function o(e,t){r(Object(m.a)(Object(m.a)({},a),{},Object(g.a)({},e,t)))}function j(){return(j=Object(l.a)(i.a.mark((function e(n){return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n.preventDefault(),e.next=3,x.a.post("/api/user",{username:a.username,password:a.password,email:a.email}).catch((function(e){console.log(e)}));case 3:e.sent?(console.log("Sign-Up Successful"),t(!0)):console.log("Sign-Up Failed");case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}return Object(p.jsx)("div",{children:Object(p.jsxs)("form",{className:"bg-white h-full center text-center space-y-2 shadow-md rounded px-8 pt-6 pb-4 mb-2",onSubmit:function(e){return function(e){return j.apply(this,arguments)}(e)},children:[Object(p.jsx)(O,{type:"text",placeholder:"Username",value:a.username,onChange:function(e){return o("username",e.target.value)}}),Object(p.jsx)(O,{type:"text",placeholder:"Email",value:a.email,onChange:function(e){return o("email",e.target.value)}}),Object(p.jsx)(O,{type:"password",placeholder:"Password",value:a.password,onChange:function(e){return o("password",e.target.value)}}),Object(p.jsx)("div",{className:"pt-5",children:Object(p.jsx)(v,{type:"submit",text:"Sign-Up"})})]})})}function N(e){var t=e.loginFunction;return Object(p.jsxs)("div",{className:"grid pt-5 md:pt-20 grid-cols-1 mx-10 md:mx-20 md:grid-cols-2 my-10 gap-10",children:[Object(p.jsx)(w,{loginFunction:t}),Object(p.jsx)(y,{loginFunction:t})]})}function k(e){var t=e.logoutFunction;return Object(c.useEffect)((function(){function e(){return(e=Object(l.a)(i.a.mark((function e(){return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t(!1),e.next=3,fetch("/api/user/logout");case 3:e.sent;case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}!function(){e.apply(this,arguments)}()})),Object(p.jsx)(d.a,{to:"/"})}var F=function(){var e=s.a.useState(!1),t=Object(u.a)(e,2),n=t[0],c=t[1];return s.a.useEffect((function(){function e(){return(e=Object(l.a)(i.a.mark((function e(){var t,n;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("/api/user/loggedIn");case 2:return t=e.sent,e.next=5,t.json();case 5:n=e.sent,c(n.loggedIn);case 7:case"end":return e.stop()}}),e)})))).apply(this,arguments)}!function(){e.apply(this,arguments)}()}),[]),Object(p.jsx)(j.a,{children:Object(p.jsxs)("div",{children:[Object(p.jsxs)("nav",{className:"flex items-center justify-between flex-wrap bg-blue-500 p-6",children:[Object(p.jsx)("div",{className:"flex items-center flex-shrink-0 text-white mr-6",children:Object(p.jsx)("span",{className:"font-semibold text-xl tracking-tight",children:"FullStackApp"})}),Object(p.jsxs)("div",{className:"w-full block lg:flex lg:items-center lg:w-auto lg:space-x-10",children:[Object(p.jsx)("div",{className:"text-md lg:flex-grow",children:Object(p.jsx)(j.b,{to:"/",className:"block mt-4 lg:inline-block lg:mt-0 text-red-200 hover:text-white mr-4",children:"Home"})}),Object(p.jsx)("div",{className:"text-md lg:flex-grow",children:Object(p.jsx)(j.b,{to:"/user",className:"block mt-4 lg:inline-block lg:mt-0 text-red-200 hover:text-white mr-4",children:"User"})}),Object(p.jsx)("div",{className:"text-md lg:flex-grow",children:Object(p.jsx)(j.b,{to:n?"/logout":"/login",className:"block mt-4 lg:inline-block lg:mt-0 text-red-200 hover:text-white mr-4",children:n?"Logout":"Login"})})]})]}),Object(p.jsx)("div",{className:"container mx-auto",children:Object(p.jsxs)(d.d,{children:[Object(p.jsx)(d.b,{exact:!0,path:"/",children:Object(p.jsx)(b,{loginFunction:c})}),Object(p.jsx)(d.b,{path:"/user",children:n?Object(p.jsx)(f,{}):Object(p.jsx)(d.a,{to:"/"})}),Object(p.jsx)(d.b,{path:"/login",children:n?Object(p.jsx)(d.a,{to:"/"}):Object(p.jsx)(N,{loginFunction:c})}),Object(p.jsx)(d.b,{path:"/logout",children:n?Object(p.jsx)(k,{logoutFunction:c}):Object(p.jsx)(d.a,{to:"/"})})]})})]})})},S=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,67)).then((function(t){var n=t.getCLS,c=t.getFID,s=t.getFCP,a=t.getLCP,r=t.getTTFB;n(e),c(e),s(e),a(e),r(e)}))};r.a.render(Object(p.jsx)(s.a.StrictMode,{children:Object(p.jsx)(F,{})}),document.getElementById("root")),S()}},[[66,1,2]]]);
//# sourceMappingURL=main.16d0dac0.chunk.js.map